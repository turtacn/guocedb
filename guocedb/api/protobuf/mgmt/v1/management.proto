syntax = "proto3";

package guocedb.api.protobuf.mgmt.v1;

option go_package = "github.com/turtacn/guocedb/api/protobuf/mgmt/v1;mgmtv1";

// ManagementService provides APIs for managing the guocedb instance.
service ManagementService {
  // GetStatus retrieves the current status of the database server.
  rpc GetStatus(GetStatusRequest) returns (GetStatusResponse);

  // CreateDatabase creates a new database.
  rpc CreateDatabase(CreateDatabaseRequest) returns (CreateDatabaseResponse);

  // DropDatabase removes an existing database.
  rpc DropDatabase(DropDatabaseRequest) returns (DropDatabaseResponse);

  // TODO: Add RPCs for table management, user management, backup, and restore.
}

// ============== Status ==============

message GetStatusRequest {}

message GetStatusResponse {
  string version = 1;
  string status = 2; // e.g., "Running", "Starting"
  uint64 active_connections = 3;
}

// ============== Database ==============

message CreateDatabaseRequest {
  string name = 1;
}

message CreateDatabaseResponse {
  bool success = 1;
  string message = 2;
}

message DropDatabaseRequest {
  string name = 1;
}

message DropDatabaseResponse {
  bool success = 1;
  string message = 2;
}
