# GuoceDB Configuration File
# This file contains the main configuration for GuoceDB

server:
  host: "0.0.0.0"
  port: 3306
  max_connections: 1000
  connect_timeout: 10s
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 8h
  shutdown_timeout: 30s

storage:
  data_dir: "./data"
  wal_dir: ""  # Empty means use data_dir
  max_memtable_size: 67108864  # 64MB
  num_compactors: 4
  sync_writes: false
  valuelog_gc: true

security:
  enabled: false
  root_password: ""
  auth_plugin: "mysql_native_password"
  max_auth_attempts: 5
  lock_duration: 15m
  audit_log:
    enabled: false
    file_path: "./audit.log"
    async: true

observability:
  enabled: true
  address: ":9090"
  metrics_path: "/metrics"
  enable_pprof: true

logging:
  level: "info"     # debug, info, warn, error
  format: "json"    # json, text
  output: "stdout"  # stdout or file path
  max_size: 100     # MB
  max_backups: 3
  max_age: 7        # days
